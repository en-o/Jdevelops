> spring boot mvc çš„å…¨å±€å¼‚å¸¸æ•è·ï¼Œä¾èµ–ä¸‹æ³¨è§£å³å¯

# ä¾èµ–
```xml
<dependency>
    <groupId>cn.tannn.jdevelops</groupId>
    <artifactId>jdevelops-apis-exception</artifactId>
    <version>0.0.1-SNAPSHOT</version>
</dependency>
```
# å¼‚å¸¸æ ¼å¼
## é»˜è®¤æ ¼å¼
> [ğŸ¥±æ¥å£åŒ…è£¹ç±»](https://www.yuque.com/tanning/yg9ipo/qcyw5934uv8ga089?view=doc_embed&inner=qOdGH) - å¸¸è§„è¿”å›

```java
{
  "code": 501,
  "message": "/ by zero",
  "ts": 1715243347618,
  "data": null,
  "success": false
}
```
## é‡ç½®æ ¼å¼
[ğŸ¥±æ¥å£åŒ…è£¹ç±»](https://www.yuque.com/tanning/yg9ipo/qcyw5934uv8ga089?view=doc_embed&inner=nCRFY) - é‡ç½®é»˜è®¤åŒ…è£¹ç±»

# å¼‚å¸¸é…ç½®
```properties
# å¼‚å¸¸æ ˆæ˜¯å¦æ‰“å°ï¼ˆé»˜è®¤ä¸ºtrueæ‰“å°ï¼‰
jdevelops.exception.log-input=true
# æ˜¯å¦å°†è‡ªå®šçš„å¼‚å¸¸codeæ”¾åˆ°ï¼šresponse status ä¸­å»ï¼ˆé»˜è®¤ä¸æ”¾ï¼‰
jdevelops.exception.http-servlet-response-status=true
# è®¾ç½®å¼‚å¸¸ä¿¡æ¯è¿”å›çš„ header ç§çš„ content type ä¸€èˆ¬ä¸ä½¿ç”¨ï¼Œç”¨é»˜è®¤çš„å°±è¡Œäº†
# jdevelops.exception.http-servlet-response-header-content-type=
```

# æ„å»ºæ–°çš„å¼‚å¸¸ç±»

1. å¼‚å¸¸ç»§æ‰¿ **BusinessException** æ‰èƒ½è‡ªå®šä¹‰è¿”å›çš„code,å¦åˆ™åªä¼šä½¿ç”¨é»˜è®¤å€¼ `501`
```java

/**
 * jwtå¼‚å¸¸
 *
 * @author tnnn
 * @version V1.0
 * @date 2022-12-28 09:33
 */
public class TokenException extends BusinessException{
    public TokenException(int code, String message) {
        super(code, message);
    }

    public TokenException(String message) {
        super(message);
    }
    public TokenException(String message, Throwable cause) {
        super(message, cause);
    }

    public TokenException(ExceptionCode constantEnum) {
        super(constantEnum.getCode(), constantEnum.getMessage());
    }

}

```

2. å¦‚æœä¸ç»§æ‰¿ **BusinessException **ä½†æ˜¯æƒ³ç”¨åˆ°è‡ªå®šä¹‰çš„codeå°±å¿…é¡»ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•`specialMessage`æ„é€ ä¸€ä¸ª `code <=====> message`çš„ messageå­—ç¬¦ä¸²æˆ‘ä¼šåœ¨ `ExceptionResultWrap._result_`ä¸­åšè§£æã€‚
```java
/**
 * æ¥å£å¹‚ç­‰å¼‚å¸¸
 *
 * @author tnnn
 * @version V1.0
 * @date 2022-11-17 15:02
 */
public class IdempotentException  extends RuntimeException{
    /**
     * ResultCode.API_DOUBLE_CALL
     */
    public static int IDEMPOTENT_CODE = 602;
    public static String SYMBOL  = "<=====>";

    public IdempotentException() {
        super();
    }

    /**
     * ç‰¹çš„message
     *   <ps>ç”¨äºæ— æ³•ä½¿ç”¨BusinessExceptionï¼Œå½“æ—¶æƒ³è‡ªå®šä¹‰å¤±è´¥codeçš„æƒ…å†µï¼ˆé»˜è®¤æ˜¯501ï¼‰</ps>
     * @param message message
     * @return code+ ExceptionResultWrap.symbol+message; (eg. 200<=====>ä½ é”™äº†)
     */
    public static IdempotentException specialMessage(String message){
        return new IdempotentException(IDEMPOTENT_CODE + SYMBOL + message);
    }


}

```
# å†…ç½®å¼‚å¸¸ç±»

1. BusinessException
> **æœ€å¤§çš„å†…ç½®å¼‚å¸¸ï¼Œæ‰€æœ‰æ–°å»ºå¼‚å¸¸éƒ½å¿…é¡»ç»§æ‰¿ä»–**

2. DataConflictException
> æ•°æ®å†²çªå¼‚å¸¸

3. LoginLimitException
> ç™»å½•é™åˆ¶å¼‚å¸¸

4. TokenException
> tokenç›¸å…³å¼‚å¸¸

5. UserException
> ç”¨æˆ·ç›¸å…³å¼‚å¸¸


# å·²å¤„ç†çš„å¼‚å¸¸
## ğŸ˜±Exception
> ä¸‹é¢å¤„ç†ä¸åˆ°çš„å¼‚å¸¸éƒ½ä¼šèµ°è¿™ä¸ªè¿›è¡Œè¿”å›ç»™å‰ç«¯

## ğŸ˜±BusinessException
> æˆ‘ä»¬è‡ªå®šä¹‰çš„å¼‚å¸¸

## ğŸ˜±NoHandlerFoundException
> 404 ç›¸å…³çš„å¼‚å¸¸ -> è·¯å¾„ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®

## ğŸ˜±NullPointerException
> ç©ºæŒ‡é’ˆå¼‚å¸¸ -> æš‚æ—¶æ— æ³•è·å–æ•°æ®

## ğŸ˜±HttpRequestMethodNotSupportedException
> è¯·æ±‚æ–¹å¼ä¸å¯¹ - get post

## ğŸ˜±HttpMessageNotReadableException
> å‚æ•°é”™è¯¯ -> è¯·æ±‚å‚æ•°æ ¼å¼é”™è¯¯,è¯·æ£€æŸ¥ã€‚é”™è¯¯æ¶ˆæ¯(æ¶ˆæ¯ä¸å¯è¯»)

## ğŸ˜±MethodArgumentNotValidException
> å‚æ•°éªŒè¯å¼‚å¸¸ -> javax.validation

## ğŸ˜±RuntimeException
> è¿è¡Œæ—¶å¼‚å¸¸

## ğŸ˜±BindException
> å‚æ•°éªŒè¯å¼‚å¸¸ -> springframework.validation

